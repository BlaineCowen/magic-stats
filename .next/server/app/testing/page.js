(()=>{var e={};e.id=497,e.ids=[497],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/blainecowen/Documents/Projects/NFL-Stat-Query/src/app/testing/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blainecowen/Documents/Projects/NFL-Stat-Query/src/app/testing/page.tsx","default")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(687),a=s(3210),n=s(7590),o=s(7958);function i(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}function l(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),[m,b]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!0),f=async t=>{t.preventDefault(),x(!0),b(""),c(""),y(!1);try{let t=await fetch("/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,useAIScript:j})}),s=await t.json();if(!t.ok)throw c(s.r_code??""),y(!0),Error(s.error??"Failed to fetch results");l(s.results??[]),c(s.r_code??""),h(s.note??""),y(!0)}catch(e){b(e instanceof Error?e.message:"Failed to fetch results"),y(!0)}finally{x(!1)}},v=async()=>{let t=`User Query: ${e}

R Code Generated: ${d}

No results were returned. Please help debug this query.`;try{await navigator.clipboard.writeText(t)}catch(e){console.error("Failed to copy to clipboard:",e)}},k=async e=>{try{await navigator.clipboard.writeText(e),n.Ay.success("Example query copied to clipboard!")}catch(e){console.error("Failed to copy to clipboard:",e),n.Ay.error("Failed to copy to clipboard")}};return(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,r.jsx)("h1",{className:"mb-8 text-center text-2xl font-bold text-gray-900 sm:text-4xl",children:"NFL Stats Query - Testing"}),(0,r.jsxs)("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-yellow-50 p-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"useAIScript",checked:j,onChange:e=>w(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"useAIScript",className:"text-xs font-medium text-yellow-800 sm:text-sm",children:"Use AI Script (uncheck to save tokens during testing)"})]}),(0,r.jsx)("form",{onSubmit:f,className:"mb-8",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Ask any question about NFL stats...",className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none sm:px-4 sm:text-base"}),(0,r.jsx)("button",{type:"submit",disabled:p||!e.trim(),className:"flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 disabled:bg-blue-400 sm:gap-2 sm:px-4 sm:text-base",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Executing..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Execute"})]})})]})}),m&&(0,r.jsx)("div",{className:"mb-6 rounded-lg bg-red-50 p-4 text-red-700",children:m}),!1,u&&(0,r.jsxs)("div",{className:"mb-6 rounded-lg bg-yellow-50 p-4 text-yellow-700",children:[(0,r.jsx)("h3",{className:"mb-2 font-semibold",children:"Note:"}),(0,r.jsx)("p",{children:u})]}),s.length>0&&(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Results"}),(0,r.jsxs)("button",{onClick:()=>{if(0===s.length)return;let e=Object.keys(s[0]),t=new Blob([[e.map(i).join(","),...s.map(t=>e.map(e=>{let s=function(e){if(null==e)return"N/A";if("boolean"==typeof e)return e?"Yes":"No";if("number"==typeof e&&!Number.isInteger(e))return e.toFixed(2);return e.toString()}(t[e]??null);return s.includes(",")||s.includes('"')||s.includes("\n")?`"${s.replace(/"/g,'""')}"`:s}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(t);r.setAttribute("href",a),r.setAttribute("download","nfl_stats_results.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),n.Ay.success("CSV downloaded successfully!")},className:"flex items-center gap-2 rounded bg-green-600 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-green-700",title:"Download as CSV",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download CSV"]})]}),(0,r.jsx)(o.z,{data:s})]}),!p&&0===s.length&&e&&g&&(0,r.jsxs)("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-6",children:[(0,r.jsx)("h3",{className:"mb-4 text-lg font-semibold text-yellow-800",children:"No Results Found"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"mb-2 font-medium text-yellow-700",children:"User Query:"}),(0,r.jsx)("p",{className:"rounded bg-yellow-100 p-3 text-yellow-800",children:e})]}),d&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"mb-2 font-medium text-yellow-700",children:"R Code Generated:"}),(0,r.jsx)("pre",{className:"overflow-x-auto rounded bg-yellow-100 p-3 text-sm whitespace-pre-wrap text-yellow-800",children:d})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsxs)("button",{onClick:v,className:"flex items-center gap-2 rounded bg-yellow-600 px-4 py-2 text-white transition-colors hover:bg-yellow-700",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Debug Info"]}),(0,r.jsxs)("button",{onClick:()=>{let t=encodeURIComponent("NFL Stats Query Debug - No Results"),s=encodeURIComponent(`User Query: ${e}

R Code Generated: ${d}

No results were returned. Please help debug this query.`);window.open(`mailto:blaine.cowen@gmail.com?subject=${t}&body=${s}`)},className:"flex items-center gap-2 rounded bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700",children:[(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email Debug Info"]})]})]})]}),!e&&(0,r.jsxs)("div",{className:"rounded-lg bg-blue-50 p-6 text-blue-700",children:[(0,r.jsx)("h2",{className:"mb-2 font-semibold",children:"Example queries:"}),(0,r.jsxs)("ul",{className:"space-y-3",children:[(0,r.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,r.jsx)("span",{className:"flex-1",children:"Show me the top 10 quarterbacks in 2024 with at least 200 attempts, ranked by passing EPA per attempt"}),(0,r.jsx)("button",{onClick:()=>k("Show me the top 10 quarterbacks in 2024 with at least 200 attempts, ranked by passing EPA per attempt"),className:"flex-shrink-0 rounded bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700",title:"Copy query",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,r.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,r.jsx)("span",{className:"flex-1",children:"Find receivers in 2024 who had at least 50 targets and show their air yards share, target share, and yards per target"}),(0,r.jsx)("button",{onClick:()=>k("Find receivers in 2024 who had at least 50 targets and show their air yards share, target share, and yards per target"),className:"flex-shrink-0 rounded bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700",title:"Copy query",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,r.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,r.jsx)("span",{className:"flex-1",children:"Show me running backs in 2024 with at least 100 carries, ranked by rushing EPA per carry, and include their total rushing yards"}),(0,r.jsx)("button",{onClick:()=>k("Show me running backs in 2024 with at least 100 carries, ranked by rushing EPA per carry, and include their total rushing yards"),className:"flex-shrink-0 rounded bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700",title:"Copy query",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,r.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,r.jsx)("span",{className:"flex-1",children:"List the top 15 players in PPR fantasy points in 2024, but only include players who played at least 10 games"}),(0,r.jsx)("button",{onClick:()=>k("List the top 15 players in PPR fantasy points in 2024, but only include players who played at least 10 games"),className:"flex-shrink-0 rounded bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700",title:"Copy query",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,r.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,r.jsx)("span",{className:"flex-1",children:"Show me receivers in 2024 with at least 30 targets, ranked by WOPR (weighted opportunity rating), and include their RACR and receiving EPA"}),(0,r.jsx)("button",{onClick:()=>k("Show me receivers in 2024 with at least 30 targets, ranked by WOPR (weighted opportunity rating), and include their RACR and receiving EPA"),className:"flex-shrink-0 rounded bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700",title:"Copy query",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,r.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,r.jsx)("span",{className:"flex-1",children:"Show me CJ Stroud's top 10 passes by air yards in 2024"}),(0,r.jsx)("button",{onClick:()=>k("Show me CJ Stroud's top 10 passes by air yards in 2024"),className:"flex-shrink-0 rounded bg-blue-600 p-2 text-white transition-colors hover:bg-blue-700",title:"Copy query",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]})]}),(0,r.jsx)(n.l$,{position:"bottom-center"})]})}},3873:e=>{"use strict";e.exports=require("path")},4307:(e,t,s)=>{Promise.resolve().then(s.bind(s,3325))},8283:(e,t,s)=>{Promise.resolve().then(s.bind(s,1547))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(5239),a=s(8088),n=s(8170),o=s.n(n),i=s(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d={children:["",{children:["testing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1547)),"/Users/blainecowen/Documents/Projects/NFL-Stat-Query/src/app/testing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/Users/blainecowen/Documents/Projects/NFL-Stat-Query/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/blainecowen/Documents/Projects/NFL-Stat-Query/src/app/testing/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/testing/page",pathname:"/testing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,553,175],()=>s(9583));module.exports=r})();